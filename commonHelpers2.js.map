{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const FEEDBACK_DATA_KEY = \"feedback-form-state\";\nconst FEEDBACK_MESSAGE_KEY = \"feedback-message\";\n\nconst form = document.querySelector('.feedback-form');\n\nform.addEventListener(\"input\", (event) => {\n  const target = event.target;\n\n  if (target.matches(\"input, textarea\")) {\n    const formData = new FormData(form);\n    const formObject = {};\n\n    formData.forEach((value, key) => {\n      formObject[key] = typeof value === 'string' ? value.trim() : value;\n    });\n\n    localStorage.setItem(FEEDBACK_DATA_KEY, JSON.stringify(formObject));\n  }\n});\n\ntry {\n  const initialFormData = JSON.parse(localStorage.getItem(FEEDBACK_DATA_KEY));\n\n  Array.from(form.elements).forEach(element => {\n    const storageValue = initialFormData[element.name];\n    if (storageValue) {\n      element.value = storageValue;\n    }\n  });\n} catch (e) {\n  console.error(\"PARSE STORAGE FORM ERROR\");\n}\n\nform.addEventListener(\"submit\", (event) => {\n  event.preventDefault();\n\n  const formData = new FormData(form);\n  const emailValue = formData.get('email');\n  const messageValue = formData.get('message');\n\n  if (emailValue && messageValue) {\n    const formObject = {\n      email: emailValue,\n      message: messageValue\n    };\n\n    console.log(formObject);\n\n    localStorage.removeItem(FEEDBACK_DATA_KEY);\n    localStorage.removeItem(FEEDBACK_MESSAGE_KEY);\n    form.reset();\n  } else {\n    alert(\"Please fill in both fields.\"); \n  }\n  \n});\n\n"],"names":["FEEDBACK_DATA_KEY","FEEDBACK_MESSAGE_KEY","form","event","formData","formObject","value","key","initialFormData","element","storageValue","emailValue","messageValue"],"mappings":"oCAAA,MAAMA,EAAoB,sBACpBC,EAAuB,mBAEvBC,EAAO,SAAS,cAAc,gBAAgB,EAEpDA,EAAK,iBAAiB,QAAUC,GAAU,CAGxC,GAFeA,EAAM,OAEV,QAAQ,iBAAiB,EAAG,CACrC,MAAMC,EAAW,IAAI,SAASF,CAAI,EAC5BG,EAAa,CAAA,EAEnBD,EAAS,QAAQ,CAACE,EAAOC,IAAQ,CAC/BF,EAAWE,GAAO,OAAOD,GAAU,SAAWA,EAAM,KAAM,EAAGA,CACnE,CAAK,EAED,aAAa,QAAQN,EAAmB,KAAK,UAAUK,CAAU,CAAC,CACnE,CACH,CAAC,EAED,GAAI,CACF,MAAMG,EAAkB,KAAK,MAAM,aAAa,QAAQR,CAAiB,CAAC,EAE1E,MAAM,KAAKE,EAAK,QAAQ,EAAE,QAAQO,GAAW,CAC3C,MAAMC,EAAeF,EAAgBC,EAAQ,MACzCC,IACFD,EAAQ,MAAQC,EAEtB,CAAG,CACH,MAAE,CACA,QAAQ,MAAM,0BAA0B,CAC1C,CAEAR,EAAK,iBAAiB,SAAWC,GAAU,CACzCA,EAAM,eAAc,EAEpB,MAAMC,EAAW,IAAI,SAASF,CAAI,EAC5BS,EAAaP,EAAS,IAAI,OAAO,EACjCQ,EAAeR,EAAS,IAAI,SAAS,EAEvCO,GAAcC,GAMhB,QAAQ,IALW,CACjB,MAAOD,EACP,QAASC,CACf,CAE0B,EAEtB,aAAa,WAAWZ,CAAiB,EACzC,aAAa,WAAWC,CAAoB,EAC5CC,EAAK,MAAK,GAEV,MAAM,6BAA6B,CAGvC,CAAC"}